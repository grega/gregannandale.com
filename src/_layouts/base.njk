<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if title %}{{ title }} - {% endif %}Greg Annandale Photography</title>
  <meta name="description" content="{% if description %}{{ description }}{% else %}Photography portfolio of expedition photographer Greg Annandale{% endif %}">
  <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/main.css">
  <script defer data-domain="gregannandale.com" src="https://analytics.gregdev.com/js/script.file-downloads.hash.outbound-links.js"></script>
  <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
</head>
<body>
  <header class="site-header">
    <nav class="main-nav" aria-label="Main Navigation">
      <a href="/" class="site-title">Greg Annandale</a>
      <button class="hamburger" aria-label="Toggle menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul class="nav-links">
        <li><a href="/">Portfolio</a></li>
        <li class="nav-galleries"><a href="#">Galleries:</a></li>
        <li class="dropdown">
          <button type="button" class="dropdown-title" aria-expanded="false" aria-controls="galleries-dropdown">
            Galleries
          </button>
          <ul class="dropdown-menu" id="galleries-dropdown">
            <li><a href="/expeditions">Expeditions</a></li>
            <li><a href="/landscapes">Landscapes</a></li>
            <li><a href="/action-and-water">Action &amp; Water</a></li>
            <li><a href="/travel">Travel</a></li>
            <li><a href="/film">Film</a></li>
          </ul>
        </li>
        <li><a href="https://stories.gregannandale.com" class="external-link">Stories <svg class="external-icon" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    {{ content | safe }}
  </main>

  <footer class="site-footer">
    <p>Copyright &copy; Greg Annandale</p>
  </footer>

  <script>
    // menu toggle
    document.querySelector('.hamburger').addEventListener('click', function() {
      const nav = document.querySelector('.main-nav');
      const isExpanded = this.getAttribute('aria-expanded') === 'true';
      this.setAttribute('aria-expanded', !isExpanded);
      nav.classList.toggle('active');
    });

    // hero image fade effect
    const heroContainer = document.querySelector('.hero-container');
    if (heroContainer) {
      const overlay = heroContainer.querySelector('::after');
      const heroHeight = heroContainer.offsetHeight;
      
      window.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY;
        const fadeStart = heroHeight * 0.1;
        const fadeEnd = heroHeight;
        
        if (scrollPosition >= fadeStart) {
          const opacity = Math.min((scrollPosition - fadeStart) / (fadeEnd - fadeStart), 1);
          heroContainer.style.setProperty('--overlay-opacity', opacity);
        } else {
          heroContainer.style.setProperty('--overlay-opacity', 0);
        }
      });
    }
  </script>
</body>
</html> 
